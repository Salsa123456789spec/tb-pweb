<div class="container mx-auto p-4 sm:p-6 lg:p-8">
    <div class="max-w-3xl mx-auto bg-white rounded-lg shadow-md p-6">
      <h1 class="text-2xl font-bold text-gray-800 mb-6">Buat Kelompok Baru</h1>
  
      <form action="/aslab/kelompok/create" method="POST" id="form-kelompok" class="space-y-6">
        <div>
          <label for="nama" class="block text-sm font-medium text-gray-700">Nama Kelompok</label>
          <input type="text" id="nama" name="nama" required
            class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 focus:ring-blue-500 focus:border-blue-500"
            placeholder="Cth: Kelompok Alpha" />
        </div>
  
        <div>
          <label for="deskripsi" class="block text-sm font-medium text-gray-700">Deskripsi (Opsional)</label>
          <textarea id="deskripsi" name="deskripsi" rows="3"
            class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 focus:ring-blue-500 focus:border-blue-500"
            placeholder="Deskripsi singkat mengenai fokus kelompok"></textarea>
        </div>
  
        <div>
          <label for="user_id" class="block text-sm font-medium text-gray-700">Pilih Mentor</label>
          <select id="user_id" name="user_id" required
            class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 bg-white focus:ring-blue-500 focus:border-blue-500">
            <option value="" disabled selected>-- Pilih seorang mentor --</option>
            <% mentors.forEach(mentor => { %>
              <option value="<%= mentor.id %>"><%= mentor.name %> (<%= mentor.no_aslab %>)</option>
            <% }) %>
          </select>
        </div>
  
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-2">Pilih Anggota (Maksimal 4)</label>
          <% if (members.length > 0) { %>
            <div class="grid grid-cols-1 sm:grid-cols-2 gap-3">
              <% members.forEach(member => { %>
                <label class="inline-flex items-center space-x-2">
                  <input type="checkbox" name="anggota" value="<%= member.id %>"
                    class="rounded border-gray-300 text-blue-600 focus:ring-blue-500">
                  <span class="text-sm text-gray-700"><%= member.user.name %> (<%= member.user.nim %>)</span>
                </label>
              <% }) %>
            </div>
          <% } else { %>
            <p class="text-gray-500">Tidak ada mahasiswa diterima yang tersedia untuk dipilih.</p>
          <% } %>
        </div>
  
        <div class="flex justify-end gap-3 pt-4 border-t border-gray-200">
          <a href="/aslab/kelompok"
            class="bg-gray-200 hover:bg-gray-300 text-gray-800 px-4 py-2 rounded-md transition">Batal</a>
          <button type="submit"
            class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md transition">Simpan</button>
        </div>
      </form>
    </div>
  </div>
  
  <script>
    document.getElementById('form-kelompok').addEventListener('submit', function (e) {
      const checkboxes = document.querySelectorAll('input[name="anggota"]:checked');
      if (checkboxes.length > 4) {
        alert('Error: Anda hanya dapat memilih maksimal 4 anggota.');
        e.preventDefault();
      }
    });
  </script>
  