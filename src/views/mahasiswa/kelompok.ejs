<div class="container mx-auto px-4 sm:px-6 lg:px-8 py-6">
    <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6">
      <div>
        <h1 class="text-2xl font-bold text-gray-800">Daftar Kelompok Magang</h1>
        <p class="text-gray-600">Berikut daftar kelompok magang yang telah dibentuk.</p>
      </div>
    </div>
  
    <div class="mb-6">
      <form action="/mahasiswa/kelompok" method="GET" class="flex items-center gap-2">
        <input 
          type="text" 
          name="search" 
          class="flex-grow px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500" 
          placeholder="Cari berdasarkan nama kelompok..." 
          value="<%= search %>">
        <button 
          type="submit"
          class="inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition">
          <i class="fas fa-search"></i>
          <span>Cari</span>
        </button>
      </form>
    </div>
  
    <% if (kelompok.length > 0) { %>
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
        <% kelompok.forEach(k => { %>
          <div class="bg-white border border-gray-200 rounded-lg shadow-sm hover:shadow-md transition">
            <div class="p-6">
              <h2 class="text-xl font-semibold text-blue-600 mb-2"><%= k.nama %></h2>
  
              <% if (k.deskripsi) { %>
                <p class="text-gray-700 mb-4 h-16 overflow-y-auto"><%= k.deskripsi %></p>
              <% } else { %>
                <p class="italic text-gray-400 mb-4">Tidak ada deskripsi.</p>
              <% } %>
  
              <div class="mb-3">
                <p class="text-sm font-semibold text-gray-800">Mentor:</p>
                <p class="text-gray-600"><i class="fas fa-chalkboard-teacher mr-2"></i><%= k.user.name %></p>
              </div>
  
              <div>
                <p class="text-sm font-semibold text-gray-800 mb-1">Anggota:</p>
                <% if (k.magang.length > 0) { %>
                  <ul class="space-y-1 text-gray-600 text-sm">
                    <% k.magang.forEach(m => { %>
                      <li class="flex items-center">
                        <i class="fas fa-user text-gray-400 mr-2"></i> <%= m.pendaftaran.user.name %>
                      </li>
                    <% }); %>
                  </ul>
                <% } else { %>
                  <p class="italic text-gray-400">Belum ada anggota.</p>
                <% } %>
              </div>
            </div>
          </div>
        <% }); %>
      </div>
    <% } else { %>
      <div class="mt-12 text-center bg-blue-50 border border-blue-200 rounded-lg p-6 text-blue-700">
          <% if (search) { %>
              <p>Kelompok dengan nama "<strong><%= search %></strong>" tidak ditemukan.</p>
          <% } else { %>
              <p>Belum ada kelompok yang dibentuk.</p>
          <% } %>
      </div>
    <% } %>
  </div>